<!DOCTYPE html>
<html lang="{{ config('app.locale') }}">
    <head>
        {% set metaTitle = block('title') is defined ? block('title') : share.meta.title %}
        {% set metaDescription = block('description') is defined ? block('description') : share.meta.description %}
        {# meta tag #}
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="{{ metaDescription }}">
        <meta name="robots" content="noindex">
        <meta property="og:url" content="/" />
        <meta property="og:title" content="{{ metaTitle }}" />
        <meta property="og:description" content="{{ metaDescription }}" />
        <meta property="og:site_name" content="{{ config('app.name') }}" />
        <meta property="og:image" content="{% block image %}{% endblock %}" />

        <link rel="icon" href="{{ share.meta.favicon.url }}">

        <title>{{ metaTitle }}{% block title_separator %}ï½œ{% endblock %}{% block title_suffix %}{{ share.meta.title }}{% endblock %}</title>

        {# css #}
        {% block css %}{% endblock %}

        {# header js #}
        <!-- alpinejs intersect -->
        <script defer src="//unpkg.com/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
        <!-- alpinejs -->
        <script src="//unpkg.com/alpinejs" defer></script> <!-- alpinejs core -->
        <!-- htmx -->
	    <script src="//unpkg.com/htmx.org@1.9.9"></script>
        {% block header_js %}{% endblock %}
    </head>
    <body
        class="{% block body_class %}{% endblock %}"
        hx-headers='{
            "{{ csrf.getHeaderNameKey() }}": "{{ csrf.name }}",
            "{{ csrf.getHeaderValueKey() }}": "{{ csrf.value }}"
        }'>

        {# header #}
        {% block header %}{% endblock %}

        {# main content #}
        {% block content %}{% endblock %}

        {# footer #}
        {% block footer %}{% endblock %}

        {# footer js #}
        {% block footer_js %}{% endblock %}
        <script>
            document.body.addEventListener('htmx:configRequest', (event) => {
                event.detail.headers['{{ csrf.getHeaderNameKey() }}'] = '{{ csrf.name }}';
                event.detail.headers['{{ csrf.getHeaderValueKey() }}'] = '{{ csrf.value }}';
            })
        </script>
    </body>
</html>
